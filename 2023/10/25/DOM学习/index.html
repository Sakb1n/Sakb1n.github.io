<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><title>DOM学习 | Bin&#39;s blog</title><meta name="author" content="Binbin"><meta name="description" content="小彬彬的博客"><meta name="keywords" content="hexo,node,blog"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><link rel="icon" href="/images/pic.jpg"><script src="https://cdn.staticfile.org/vue/3.3.4/vue.global.prod.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.4.0/css/all.min.css"><link rel="stylesheet" href="/css/fonts.min.css"><script>const mixins={}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script><script src="https://cdn.staticfile.org/highlight.js/11.8.0/highlight.min.js"></script><script src="https://cdn.staticfile.org/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/11.8.0/styles/github.min.css"><script src="/js/lib/highlight.js"></script><script src="https://cdn.staticfile.org/KaTeX/0.16.8/katex.min.js"></script><script src="https://cdn.staticfile.org/KaTeX/0.16.8/contrib/auto-render.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.16.8/katex.min.css"><script src="/js/lib/math.js"></script><script src="/js/lib/preview.js"></script><link rel="stylesheet" href="/css/main.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Bin's blog" type="application/atom+xml"></head><body><div id="background"></div><div id="layout"><transition name="fade"><div id="loading" v-show="loading"><div id="loading-circle"><h2>LOADING</h2><p>加载过慢请开启缓存 浏览器默认开启</p><img src="/images/loading.gif"></div></div></transition><div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}"><nav id="desktop-menu"><a class="title" href="/"><span>BIN&#39;S BLOG</span> </a><a href="/"><i class="fa-solid fa-house fa-fw"></i> <span>&ensp;Home</span> </a><a href="/about"><i class="fa-solid fa-id-card fa-fw"></i> <span>&ensp;About</span> </a><a href="/archives"><i class="fa-solid fa-box-archive fa-fw"></i> <span>&ensp;Archives</span> </a><a href="/categories"><i class="fa-solid fa-bookmark fa-fw"></i> <span>&ensp;Categories</span> </a><a href="/tags"><i class="fa-solid fa-tags fa-fw"></i> <span>&ensp;Tags</span></a></nav><nav id="mobile-menu"><div class="title" @click="showMenuItems = !showMenuItems"><i class="fa-solid fa-bars fa-fw"></i> <span>&emsp;BIN&#39;S BLOG</span></div><transition name="slide"><div class="items" v-show="showMenuItems"><a href="/"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-house fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Home</div></div></a><a href="/about"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-id-card fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">About</div></div></a><a href="/archives"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-box-archive fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Archives</div></div></a><a href="/categories"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-bookmark fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Categories</div></div></a><a href="/tags"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-tags fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Tags</div></div></a></div></transition></nav></div><transition name="fade"><div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div></transition><div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'"><div class="article"><div><h1>DOM学习</h1></div><div class="info"><span class="date"><span class="icon"><i class="fa-solid fa-calendar fa-fw"></i> </span>2023/10/25 </span><span class="category"><a href="/categories/%E5%AD%A6%E4%B9%A0/"><span class="icon"><i class="fa-solid fa-bookmark fa-fw"></i> </span>学习 </a></span><span class="tags"><span class="icon"><i class="fa-solid fa-tags fa-fw"></i> </span><span class="tag"><a href="/tags/%E5%AD%A6%E4%B9%A0/" style="color:#00a596">学习</a></span></span></div><div class="content" v-pre><h2 id="DOM基础"><a href="#DOM基础" class="headerlink" title="DOM基础"></a>DOM基础</h2><h3 id="DOM概述"><a href="#DOM概述" class="headerlink" title="DOM概述"></a>DOM概述</h3><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DOM(<strong>文档对象模型</strong>)是一个网络文档的<strong>编程接口</strong>，DOM将文档表示为节点和对象，因此编程语言可以和页面交互。</p><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;网页是既可以在浏览器窗口中显示，又可以作为HTML源代码的文档，用DOM使它可以被操作。</p><span id="more"></span><pre><code class="js">const paragraphs = document.querySelectorAll(&quot;p&quot;);
//paragraphs[0], paragraphs[1]...
alert(paragraphs[0].nodeName);
</code></pre><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DOM是使用多个API构建的，核心DOM定义了描述任何文档和其中对象的实体，其他API对其进行扩展。</p><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>DOM不是一门编程语言，而是用于建立网站的API。所以DOM不一定非要JavaScript才能实现，Python也行</strong>。</p><h3 id="访问DOM"><a href="#访问DOM" class="headerlink" title="访问DOM"></a>访问DOM</h3><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;可以使用<code>document</code>或<code>window</code>对象来操作文档本身</p><pre><code class="js">//创造一个新的h1元素，向元素添加文本，再将其添加到文档的树中
&lt;html lang=&quot;zh-CN&quot;&gt;
  &lt;head&gt;
    &lt;script&gt;
      // 当文档加载时，运行这段函数
      window.onload = () =&gt; &#123;
        // 在空 HTML 页面中创建一系列元素
        const heading =	document.createElement(&quot;h1&quot;);
        const headingText = document.createTextNode(&quot;Big Head!&quot;);
        heading.appendChild(headingText);
        document.body.appendChild(heading);
      &#125;;
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;&lt;/body&gt;
&lt;/html&gt;
</code></pre><h3 id="基本的数据类型"><a href="#基本的数据类型" class="headerlink" title="基本的数据类型"></a>基本的数据类型</h3><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;通常把DOM中的节点成为元素，但严格来说不是每个节点都是一个元素。</p><table><thead><tr><th align="center">数据类型</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document"><code>Document</code></a></td><td align="center">当一个成员返回 <code>document</code> 对象时，这个对象就是root<code>document</code> 对象本身。参见文章 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document">DOM <code>document</code> 参考</a></td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Node"><code>Node</code></a></td><td align="center">位于文档中的每个对象都是某种类型的节点。一个对象可以是一个元素节点，也可以是一个文本节点或属性节点</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element"><code>Element</code></a></td><td align="center">基于Node，指的是一个元素或由DOM API成员返回的element类型的节点</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/NodeList"><code>NodeList</code></a></td><td align="center">由元素组成的数组</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Attr"><code>Attr</code></a></td><td align="center"><code>attribute</code> 通过成员函数返回时，是一个为属性暴露出专门接口的对象引用</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/NamedNodeMap"><code>NamedNodeMap</code></a></td><td align="center">和数组类似，但是条目是由名称或索引访问的</td></tr></tbody></table><h3 id="DOM中的核心接口"><a href="#DOM中的核心接口" class="headerlink" title="DOM中的核心接口"></a>DOM中的核心接口</h3><ul><li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/querySelector"><code>document.querySelector()</code></a></li><li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/querySelectorAll"><code>document.querySelectorAll()</code></a></li><li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/createElement"><code>document.createElement()</code></a></li><li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/innerHTML"><code>Element.innerHTML</code></a></li><li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/setAttribute"><code>Element.setAttribute()</code></a></li><li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getAttribute"><code>Element.getAttribute()</code></a></li><li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener"><code>EventTarget.addEventListener()</code></a></li><li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/style"><code>HTMLElement.style</code></a></li><li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Node/appendChild"><code>Node.appendChild()</code></a></li><li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/load_event"><code>window.onload</code></a></li><li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/scrollTo"><code>window.scrollTo()</code></a></li></ul><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><h4 id="设置文本内容"><a href="#设置文本内容" class="headerlink" title="设置文本内容"></a>设置文本内容</h4><pre><code class="html">&lt;div class=&quot;container&quot;&gt;
  &lt;textarea class=&quot;story&quot;&gt;&lt;/textarea&gt;
  &lt;button id=&quot;set-text&quot; type=&quot;button&quot;&gt;设置文本内容&lt;/button&gt;
  &lt;button id=&quot;clear-text&quot; type=&quot;button&quot;&gt;清除文本内容&lt;/button&gt;
&lt;/div&gt;
</code></pre><pre><code class="css">.container &#123;
  display: flex;
  gap: 0.5rem;
  flex-direction: column;
&#125;

button &#123;
  width: 200px;
&#125;
</code></pre><pre><code class="js">const story = document.body.querySelector(&quot;.story&quot;);

const setText = document.body.querySelector(&quot;#set-text&quot;);
setText.addEventListener(&quot;click&quot;, () =&gt; &#123;
  story.textContent = &quot;It was a dark and stormy night...&quot;;
&#125;);

const clearText = document.body.querySelector(&quot;#clear-text&quot;);
clearText.addEventListener(&quot;click&quot;, () =&gt; &#123;
  story.textContent = &quot;&quot;;
&#125;);
</code></pre><h4 id="添加子元素"><a href="#添加子元素" class="headerlink" title="添加子元素"></a>添加子元素</h4><pre><code class="html">&lt;div class=&quot;container&quot;&gt;
  &lt;div class=&quot;parent&quot;&gt;父元素&lt;/div&gt;
  &lt;button id=&quot;add-child&quot; type=&quot;button&quot;&gt;添加子元素&lt;/button&gt;
  &lt;button id=&quot;remove-child&quot; type=&quot;button&quot;&gt;移除子元素&lt;/button&gt;
&lt;/div&gt;
</code></pre><pre><code class="css">.container &#123;
  display: flex;
  gap: 0.5rem;
  flex-direction: column;
&#125;

button &#123;
  width: 100px;
&#125;

div.parent &#123;
  border: 1px solid black;
  padding: 5px;
  width: 100px;
  height: 100px;
&#125;

div.child &#123;
  border: 1px solid red;
  margin: 10px;
  padding: 5px;
  width: 80px;
  height: 60px;
  box-sizing: border-box;
&#125;
</code></pre><pre><code class="js">const parent = document.body.querySelector(&quot;.parent&quot;);

const addChild = document.body.querySelector(&quot;#add-child&quot;);
addChild.addEventListener(&quot;click&quot;, () =&gt; &#123;
  // 只在文本节点“父节点”没有子节点时添加一个子节点
  if (parent.childNodes.length &gt; 1) &#123;
    return;
  &#125;
  const child = document.createElement(&quot;div&quot;);
  child.classList.add(&quot;child&quot;);
  child.textContent = &quot;子节点&quot;;
  parent.appendChild(child);
&#125;);

const removeChild = document.body.querySelector(&quot;#remove-child&quot;);
removeChild.addEventListener(&quot;click&quot;, () =&gt; &#123;
  const child = document.body.querySelector(&quot;.child&quot;);
  parent.removeChild(child);
&#125;);
</code></pre><h2 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h2><h3 id="document-querySelector"><a href="#document-querySelector" class="headerlink" title="document.querySelector"></a>document.querySelector</h3><h4 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h4><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;返回文档中与<strong>指定选择器或选择器组</strong>匹配的<strong>第一个</strong>Element对象，找不到返回null。</p><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;匹配：使用深度优先先序遍历，从文档第一个元素开始按子节点的顺序遍历。</p><h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><pre><code class="js">element = document.querySelector(selectors);
/*
    selectors: 包含一个或多个要匹配的选择器的DOM字符串，必须为CSS选择器，否则引发SYNTAX_ERR异常。
    SYNTAX_ERR:指定selectors的语法无效
    CSS伪类不会返回任何元素
*/
</code></pre><h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><pre><code class="js">//查找第一个匹配.myclass属性的元素
let e1 = document.querySelector(&quot;.myclass&quot;);

//查找一个元素，该元素是被一个class = &quot;user-panel main&quot;属性的div包裹的name = &quot;login&quot;的input
let e2 = document.querySelector(&quot;div.user-panel.main input[name = &#39;login&#39;]&quot;);
</code></pre><h3 id="document-querySelectorAll"><a href="#document-querySelectorAll" class="headerlink" title="document.querySelectorAll()"></a>document.querySelectorAll()</h3><h4 id="概要-1"><a href="#概要-1" class="headerlink" title="概要"></a>概要</h4><blockquote><p>此方法基于ParentNode mixin的querySelectorAll()实现。</p></blockquote><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;返回与指定的选择器组匹配的文档中的元素列表，返回<code>NodeList</code>(可以为空)。</p><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一旦返回了NodeList，就可以像数组一样使用。</p><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;匹配：深度优先先序遍历文档节点。</p><h4 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h4><pre><code class="js">querySelectorAll(selectors)
/*
    selectors: 必须为CSS选择器的字符串，否则引发SyntaxError异常。
    selectors中包含CSS伪元素会始终返回空值。
    SyntaxError:指定的选择器不合法会抛出该错误。
*/
</code></pre><h4 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h4><pre><code class="js">//获取所有p元素
let e = document.querySelectorAll(&quot;p&quot;);

//获取所有class为note和alert的div元素
let e1 = document.querySelectorAll(&quot;div.note&quot;, &quot;div.alert&quot;);

//获得一个p元素的列表，直接父元素是一个class = &quot;highlighted&quot;的div，位于ID为&quot;test&quot;的容器中
let container = document.querySelector(&quot;#test&quot;);
let matches = container.querySelectorAll(&quot;div.highlighted &gt; p&quot;);

//获得文档中属性名为“data-src”的iframe元素列表
let matches = document.querySelectorAll(&quot;iframe[data-stc]&quot;);

//获得ID为userlist的列表中包含值为1的data-active属性的元素
let container = document.querySelector(&quot;#userlist&quot;);
let matcher = container.querySelector(&quot;li[data-active = &#39;1&#39;]&quot;);
</code></pre><h3 id="document-createElement"><a href="#document-createElement" class="headerlink" title="document.createElement"></a>document.createElement</h3><h4 id="概要-2"><a href="#概要-2" class="headerlink" title="概要"></a>概要</h4><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;用于创建一个由标签名称<em>tagName</em>指定的HTML元素，如果无法识别该tagName会生成一个未知HTML元素<code>HTMLUnknownElement</code>。</p><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;会返回新建的元素。</p><h4 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h4><pre><code class="js">var element = document.createElement(tagName[, options]);
/*
    tagName:指定要创建元素类型的字符串
*/
</code></pre><h4 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h4><pre><code class="js">//新建一个新的div并且插入到ID为div1的元素前
document.body.onload = addElement;

function addElement()&#123;
    //创造一个新的div元素
    let newDiv = document.createElement(&quot;div&quot;);
    //添加内容
    let newtext = document.createTextNode(&quot;Hello World!&quot;);
    //添加文本节点到这个div元素
    newDiv.appendChlid(newtext);
    
    //获取div1
    let curDiv = document.getElementById(&quot;div1&quot;);
    //添加到div1的元素前
    document.body.insertBefore(newDiv, curDiv);
&#125;
</code></pre><h3 id="element-innerHTML"><a href="#element-innerHTML" class="headerlink" title="element.innerHTML"></a>element.innerHTML</h3><h4 id="概要-3"><a href="#概要-3" class="headerlink" title="概要"></a>概要</h4><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;设置或获取HTML语法表示的元素的后代。</p><h4 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h4><pre><code class="js">const content = element.innerHTML;
element.innerHTML = htmlString;
/*
    设置元素的innerHTML将会删除所有该元素的后代并以htmlString替代。
    SyntaxError:HTML没有正确标记时，设置innerHTML将抛出语法错误。
    NoModificationAllowedError:当父元素是Document时设置innerHTML将抛出语法错误。
*/
</code></pre><h4 id="示例-4"><a href="#示例-4" class="headerlink" title="示例"></a>示例</h4><pre><code class="html">&lt;div class=&quot;box&quot;&gt;
        &lt;div&gt;&lt;strong&gt;Log:&lt;/strong&gt;&lt;/div&gt;
        &lt;div class=&quot;log&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
</code></pre><pre><code class="css">.box&#123;
        width: 600px;
        height: 300px;
        border: 1px solid black;
        padding: 2px 4px;
        overflow-y: scroll;
        overflow-x: auto;
&#125;
.log&#123;
        margin-top: 8px;
        font-family: monospace;
&#125;
</code></pre><pre><code class="js">let s = document.querySelector(&quot;.box&quot;);
s.addEventListener(&quot;click&quot;, logEvent);
s.addEventListener(&quot;mousedown&quot;, logEvent); s.addEventListener(&quot;mouseup&quot;, logEvent);
s.addEventListener(&quot;mouseenter&quot;, logEvent);
s.addEventListener(&quot;mouseleave&quot;, logEvent);

function logEvent()&#123;
    let msg = &quot;Event &lt;strong&gt;&quot; + event.type + &quot;&lt;/strong&gt; at &lt;em&gt;&quot; + event.clientX + &quot;,&quot; + event.clientY + &quot;&lt;/em&gt;&quot;;
    log(msg);
 &#125;

function log(msg)&#123;
    let a = document.querySelector(&quot;.log&quot;);
    let time = new Date();
    let timestr = time.toLocaleTimeString();
    a.innerHTML += timestr + &#39;:&#39; + msg +  &quot;&lt;br /&gt;&quot;;
&#125;
    log(&quot;Logging mouse events inside this container...&quot;);
</code></pre><h3 id="element-setAttribute"><a href="#element-setAttribute" class="headerlink" title="element.setAttribute"></a>element.setAttribute</h3><h4 id="概要-4"><a href="#概要-4" class="headerlink" title="概要"></a>概要</h4><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;设置指定元素上的某个属性值，若该属性存在则更新该值，否则使用指定的名称和值添加一个新的属性，返回undefined。</p><h4 id="语法-4"><a href="#语法-4" class="headerlink" title="语法"></a>语法</h4><pre><code class="js">element.setAttribute(name, value)
/*
    name:表示属性名称的字符串
    value:属性的值
*/
</code></pre><h4 id="示例-5"><a href="#示例-5" class="headerlink" title="示例"></a>示例</h4><pre><code class="js">//为HTML的button设置属性
let b = document.querySelector(&quot;button&quot;);
b.setAttribute(&quot;name&quot;, &quot;helloButton&quot;);
b.setAttribute(&quot;disabled&quot;, &quot;&quot;);
</code></pre><h3 id="element-getAttribute"><a href="#element-getAttribute" class="headerlink" title="element.getAttribute"></a>element.getAttribute</h3><h4 id="概要-5"><a href="#概要-5" class="headerlink" title="概要"></a>概要</h4><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;返回元素上一个指定的属性值，若指定的属性不存在，返回<code>null</code>	或<code>&quot;&quot;</code>。</p><h4 id="语法-5"><a href="#语法-5" class="headerlink" title="语法"></a>语法</h4><pre><code class="js">let attribute = element.getAttribute(attributeName);
/*
    attributeName:你想获取属性值的属性名称。
*/
</code></pre><h4 id="示例-6"><a href="#示例-6" class="headerlink" title="示例"></a>示例</h4><pre><code class="js">let div1 = document.getElementById(&quot;div1&quot;);
let align = div1.getAttribute(&quot;align&quot;);
alert(align);
</code></pre><h3 id="EventTarget-addEventListener"><a href="#EventTarget-addEventListener" class="headerlink" title="EventTarget.addEventListener"></a>EventTarget.addEventListener</h3><h4 id="概要-6"><a href="#概要-6" class="headerlink" title="概要"></a>概要</h4><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;将指定的监听器注册到<code>EventTarget</code>上，该对象触发指定的事件时，相应的回调函数会被执行，无返回值。</p><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>EventTarget</code>可以是<code>Element</code>、<code>Document</code>、<code>Window</code>和任何支持事件的对象。</p><blockquote><p>使用 <code>addEventListener()</code>的优点：</p><ul><li>它允许为一个事件添加多个监听器。特别是对库、JavaScript 模块和其他需要兼容第三方库&#x2F;插件的代码来说，这一功能很有用。</li><li>相比于 <code>onXYZ</code> 属性绑定来说，它提供了一种更精细的手段来控制 <code>listener</code> 的触发阶段。（即可以选择捕获或者冒泡）。</li><li>它对任何事件都有效，而不仅仅是 HTML 或 SVG 元素。</li></ul></blockquote><h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;将<code>EventListener</code>的函数或对象添加到调用它的<code>EventTarget</code></p><p>的事件侦听器列表中，若已被添加则不会重复该操作。</p><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当一个<code>EventListener</code>在处理事件时被注册到<code>EventTarget</code>上时，不会被立即触发。</p><blockquote><p>​	如果先前向事件侦听器列表中添加过一个匿名函数，并且在之后的代码中调用 <code>addEventListener</code> 来添加一个功能完全相同的匿名函数，那么之后的这个匿名函数<em>也会</em>被添加到列表中。</p><p>​	实际上，即使使用<em>完全相同</em>的代码来定义一个匿名函数，这两个函数仍然存在区别，<strong>在循环中也是如此</strong>。在使用该方法的情况下，匿名函数的重复定义会带来许多麻烦。</p></blockquote><h4 id="语法-6"><a href="#语法-6" class="headerlink" title="语法"></a>语法</h4><pre><code class="js">addEventLister(type, listener, [options], [useCapture]);
/*
    type:监听类型
    listener：一个实现了EventListener接口的对象，或函数
    options：capture(事件捕获), once(最多只调用一次),passive(不会调用preventDefault), signal(abort()方法被调用时，监听器被移除)
    useCapture:是否要先于它下面的EventTarget调用该Listener(不太懂这个...)
*/
</code></pre><h4 id="示例-7"><a href="#示例-7" class="headerlink" title="示例"></a>示例</h4><pre><code class="html">&lt;table id=&quot;outside&quot;&gt;
  &lt;tr&gt;
    &lt;td id=&quot;t1&quot;&gt;one&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td id=&quot;t2&quot;&gt;two&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
</code></pre><pre><code class="js">/*1.添加一个简单的监听器*/
// 为 table 添加事件监听器
const el = document.getElementById(&quot;outside&quot;);
el.addEventListener(&quot;click&quot;, modifyText, false);

// 改变 t2 内容的函数
function modifyText() &#123;
  const t2 = document.getElementById(&quot;t2&quot;);
  const isNodeThree = t2.firstChild.nodeValue === &quot;three&quot;;
  t2.firstChild.nodeValue = isNodeThree ? &quot;two&quot; : &quot;three&quot;;
&#125;

/*2.添加一个可被移除的监听器*/
// 为 table 添加可被移除的事件监听器
const controller = new AbortController();
const el = document.getElementById(&quot;outside&quot;);
el.addEventListener(&quot;click&quot;, modifyText, &#123; signal: controller.signal &#125;);

// 改变 t2 内容的函数
function modifyText() &#123;
  const t2 = document.getElementById(&quot;t2&quot;);
  if (t2.firstChild.nodeValue === &quot;three&quot;) &#123;
    t2.firstChild.nodeValue = &quot;two&quot;;
  &#125; else &#123;
    t2.firstChild.nodeValue = &quot;three&quot;;
    controller.abort(); // 当值变为 &quot;three&quot; 后，移除监听器
  &#125;
&#125;

/*3.带有匿名函数的监听器*/
// 改变 t2 内容的函数
function modifyText(new_text) &#123;
  const t2 = document.getElementById(&quot;t2&quot;);
  t2.firstChild.nodeValue = new_text;
&#125;

// 用匿名函数为 table 添加事件监听器
const el = document.getElementById(&quot;outside&quot;);
el.addEventListener(
  &quot;click&quot;,
  function () &#123;
    modifyText(&quot;four&quot;);
  &#125;,
  false,
);

/*4.带有箭头函数的监听器*/
// 改变 t2 内容的函数
function modifyText(new_text) &#123;
  var t2 = document.getElementById(&quot;t2&quot;);
  t2.firstChild.nodeValue = new_text;
&#125;

// 用箭头函数为 table 添加事件监听器
const el = document.getElementById(&quot;outside&quot;);
el.addEventListener(
  &quot;click&quot;,
  () =&gt; &#123;
    modifyText(&quot;four&quot;);
  &#125;,
  false,
);
</code></pre><h3 id="Node-appendChlid"><a href="#Node-appendChlid" class="headerlink" title="Node.appendChlid"></a>Node.appendChlid</h3><h4 id="概要-7"><a href="#概要-7" class="headerlink" title="概要"></a>概要</h4><p>​ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;将一个节点附加到指定父节点的子节点列表末尾处。若该节点已经存在，则将其移动到新的位置，返回追加后的子节点。</p><h4 id="语法-7"><a href="#语法-7" class="headerlink" title="语法"></a>语法</h4><pre><code class="js">element.appendChild(aChild)
/*
    aChild:要追加给父节点的节点。
*/
</code></pre><h4 id="示例-8"><a href="#示例-8" class="headerlink" title="示例"></a>示例</h4><pre><code class="js">//创造一个新的段落元素p，然后将其添加到body的最尾部
let p = document.createElement(&quot;p&quot;);
document.body.appendChild(p);
</code></pre><h3 id="window-onload"><a href="#window-onload" class="headerlink" title="window.onload"></a>window.onload</h3><h4 id="概要-8"><a href="#概要-8" class="headerlink" title="概要"></a>概要</h4><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>load</code>事件在整个页面及所有依赖资源都已完全加载时触发。</p><h4 id="语法-8"><a href="#语法-8" class="headerlink" title="语法"></a>语法</h4><pre><code class="js">addEventListener(&quot;load&quot;, (event) =&gt; &#123;&#125;);

onload = (event) =&gt; &#123;&#125;;
</code></pre><h4 id="示例-9"><a href="#示例-9" class="headerlink" title="示例"></a>示例</h4><pre><code class="js">windows.addEventListener(&quot;load&quot;, (event) =&gt;&#123;
   console.log(&quot;page is fully loaded&quot;); 
&#125;);

windows.onload = (event) =&gt; &#123;
   console.log(&quot;page is fully loaded&quot;); 
&#125;;
</code></pre><h3 id="window-scrollTo"><a href="#window-scrollTo" class="headerlink" title="window.scrollTo"></a>window.scrollTo</h3><h4 id="概要-9"><a href="#概要-9" class="headerlink" title="概要"></a>概要</h4><p>​	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;滚动到文档中的某个坐标。</p><h4 id="语法-9"><a href="#语法-9" class="headerlink" title="语法"></a>语法</h4><pre><code class="js">window.scrollTo(x-coord, y-coord);
window.scrollTo(options);
/*
    x-coord:文档的横轴坐标=left
    y-coord:文档的纵轴坐标=top
    options:包含三个属性的对象
*/
</code></pre><h4 id="示例-10"><a href="#示例-10" class="headerlink" title="示例"></a>示例</h4><pre><code class="js">window.scrollTo(0, 1000);
//设置滚动行为为平滑的滚动
window.scrollTo(&#123;
    top:1000,
    behavior:&quot;smooth&quot;
&#125;);
</code></pre></div><div id="comment"><div id="giscus-container" class="giscus"></div></div></div><footer id="footer"><div id="footer-wrap"><div>&copy; 2023 - 2024 Bin&#39;s blog <span id="footer-icon"><i class="fa-solid fa-font-awesome fa-fw"></i> </span>&commat;Binbin</div><div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp; <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a></div></div></footer></div><transition name="fade"><div id="preview" ref="preview" v-show="previewShow"><img id="preview-content" ref="previewContent"></div></transition></div><script src="/js/main.js"></script><script src="https://giscus.app/client.js" data-repo="Sakb1n/Review" data-repo-id="R_kgDOLDDvkw" data-category="Announcements" data-category-id="DIC_kwDOLDDvk84CjKqj" data-mapping="title" data-strict="0" data-reactions-enabled="top" data-emit-metadata="0" data-input-position="bottom" data-theme="preferred_color_scheme" data-lang="zh-CN" crossorigin async></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/z16.model.json"},display:{position:"right",width:150,height:300,hOffset:-15,vOffset:-15},mobile:{show:!0},react:{opacity:.7},log:!1})</script></body></html>